{
  "metadata": {
    "title": "ALDC Internal Engineering Schema",
    "description": "Complete data model - 12 tables, 85+ columns, 15 measures, Eclipse operations monitoring",
    "source": "Zeus Memory / Eclipse API / ALDC Data Dictionary",
    "created": "2026-01-30",
    "updated": "2026-01-30",
    "owner": "ALDC Engineering",
    "architect": "John Ketchum (ALDC)",
    "repository": "https://github.com/loribeck1000/aldc-internal-api"
  },
  "groups": {
    "hub": {"color": "#1a365d", "label": "Dataset"},
    "fact": {"color": "#2b6cb0", "label": "Fact Tables"},
    "dimension": {"color": "#2f855a", "label": "Dimension Tables"},
    "operational": {"color": "#805ad5", "label": "Operational Tables"},
    "log": {"color": "#d69e2e", "label": "Log Tables"},
    "column": {"color": "#718096", "label": "Columns"},
    "measure": {"color": "#e53e3e", "label": "Measures"},
    "source": {"color": "#38a169", "label": "Data Sources"},
    "api": {"color": "#3182ce", "label": "APIs & Connectors"}
  },
  "physical_groups": {
    "snowflake": {"color": "#29b5e8", "label": "Snowflake"},
    "cosmosdb": {"color": "#0078d4", "label": "Azure CosmosDB"},
    "azure": {"color": "#0078d4", "label": "Azure Cloud"},
    "sql_server": {"color": "#cc2927", "label": "SQL Server"}
  },
  "edge_types": {
    "contains": {"color": "#718096", "width": 2, "label": "Contains"},
    "references": {"color": "#3182ce", "width": 2, "label": "References"},
    "feeds": {"color": "#38a169", "width": 3, "label": "Feeds Data"},
    "calculates": {"color": "#e53e3e", "width": 1.5, "label": "Calculates"},
    "logs": {"color": "#d69e2e", "width": 1.5, "label": "Logs"}
  },
  "nodes": [
    {"id": "hub", "label": "ALDC Engineering", "tier": 0, "group": "hub", "title": "ALDC Internal Operations Dataset\n12 Tables, 85+ Columns, 15 Measures\nEclipse platform monitoring\nAzure infrastructure metrics", "size": 60, "physical_group": "snowflake"},

    {"id": "table_dim_account", "label": "DIM_ACCOUNT", "tier": 1, "group": "dimension", "title": "Account dimension table\nTenant configurations and metadata\nBilling, timezone, region settings", "size": 35, "physical_group": "snowflake"},
    {"id": "table_dim_date", "label": "DIM_DATE", "tier": 1, "group": "dimension", "title": "Date dimension table\nFiscal calendars, period calculations\nTime intelligence support", "size": 35, "physical_group": "snowflake"},
    {"id": "table_dim_template", "label": "DIM_TEMPLATE", "tier": 1, "group": "dimension", "title": "Work template dimension\nConnector and retry metadata\nMerge strategies and status", "size": 35, "physical_group": "snowflake"},
    {"id": "table_fct_performance", "label": "FCT_PERFORMANCE", "tier": 1, "group": "fact", "title": "Schedule performance fact table\nExecution metrics, duration, status\nBytes and rowcount tracking", "size": 40, "physical_group": "snowflake"},

    {"id": "table_schedule", "label": "SCHEDULE", "tier": 2, "group": "operational", "title": "Current schedule executions\nEclipse job orchestration\nPartition: datetime_window (1 day)", "size": 30, "physical_group": "cosmosdb"},
    {"id": "table_session", "label": "SESSION", "tier": 2, "group": "operational", "title": "Execution sessions\nCreated during schedule runs\nPartition: datetime_window (1 day)", "size": 30, "physical_group": "cosmosdb"},
    {"id": "table_session_event", "label": "SESSION_EVENT", "tier": 2, "group": "operational", "title": "Session event log\nGranular execution events\nPartition: datetime_window (1 day)", "size": 28, "physical_group": "cosmosdb"},
    {"id": "table_work_template", "label": "WORK_TEMPLATE", "tier": 2, "group": "operational", "title": "Work extraction templates\nRetry policies, merge strategies\nPartition: datetime_window (30 days)", "size": 30, "physical_group": "cosmosdb"},
    {"id": "table_work_partition", "label": "WORK_PARTITION", "tier": 2, "group": "operational", "title": "Parallel processing partitions\nWork distribution management\nPartition: datetime_window (3 days)", "size": 25, "physical_group": "cosmosdb"},
    {"id": "table_work_queue", "label": "WORK_QUEUE", "tier": 2, "group": "operational", "title": "Work queue management\nJob scheduling and prioritization\nPartition: datetime_window (2 days)", "size": 25, "physical_group": "cosmosdb"},
    {"id": "table_work_connection", "label": "WORK_CONNECTION", "tier": 2, "group": "operational", "title": "Connection configurations\nData source credentials and settings", "size": 25, "physical_group": "cosmosdb"},

    {"id": "table_log_work_pick", "label": "LOG_WORK_PICK", "tier": 3, "group": "log", "title": "Work pick operations log\nModule: work, Location: work_pick\nRetention: 2 days", "size": 22, "physical_group": "cosmosdb"},
    {"id": "table_log_work_scan", "label": "LOG_WORK_SCAN", "tier": 3, "group": "log", "title": "Work scan operations log\nModule: work, Location: work_scan\nRetention: 2 days", "size": 22, "physical_group": "cosmosdb"},
    {"id": "table_log_task_scan", "label": "LOG_TASK_SCAN", "tier": 3, "group": "log", "title": "Task scan operations log\nModule: task, Location: task_scan\nRetention: 2 days", "size": 22, "physical_group": "cosmosdb"},
    {"id": "table_log_warehouse", "label": "LOG_WAREHOUSE", "tier": 3, "group": "log", "title": "Warehouse query log\nModule: warehouse, Location: warehouse_query\nRetention: 2 days", "size": 22, "physical_group": "cosmosdb"},

    {"id": "col_account_id", "label": "account_id", "tier": 4, "group": "column", "title": "Unique account identifier", "size": 12, "physical_group": "snowflake"},
    {"id": "col_account_key", "label": "account_key", "tier": 4, "group": "column", "title": "SHA2 hash of account ID", "size": 12, "physical_group": "snowflake"},
    {"id": "col_short_code", "label": "short_code", "tier": 4, "group": "column", "title": "Account code (e.g., ALDC_ENG)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_full_name", "label": "full_name", "tier": 4, "group": "column", "title": "Account full name", "size": 12, "physical_group": "snowflake"},
    {"id": "col_billing_status", "label": "billing_status", "tier": 4, "group": "column", "title": "Billing status (active/inactive)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_region", "label": "region", "tier": 4, "group": "column", "title": "AWS/Azure region (canada_central)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_master_timezone", "label": "master_timezone", "tier": 4, "group": "column", "title": "Master timezone (America/Vancouver)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_currency", "label": "currency", "tier": 4, "group": "column", "title": "Billing currency (CAD/USD)", "size": 12, "physical_group": "snowflake"},

    {"id": "col_date", "label": "date", "tier": 4, "group": "column", "title": "Calendar date", "size": 12, "physical_group": "snowflake"},
    {"id": "col_date_key", "label": "date_key", "tier": 4, "group": "column", "title": "SHA2 hash of date", "size": 12, "physical_group": "snowflake"},
    {"id": "col_day_name", "label": "day_name", "tier": 4, "group": "column", "title": "Day name (Monday, Tuesday...)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_year_name", "label": "year_name", "tier": 4, "group": "column", "title": "Year format (CY2026)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_quarter_name", "label": "quarter_name", "tier": 4, "group": "column", "title": "Quarter format (Q1 2026)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_month_name", "label": "month_name", "tier": 4, "group": "column", "title": "Month format (January 2026)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_week_name", "label": "week_name", "tier": 4, "group": "column", "title": "Week format (Week 5 2026)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_fiscal_year", "label": "fiscal_year", "tier": 4, "group": "column", "title": "Fiscal year (FY26)", "size": 12, "physical_group": "snowflake"},

    {"id": "col_template_id", "label": "template_id", "tier": 4, "group": "column", "title": "Work template identifier", "size": 12, "physical_group": "snowflake"},
    {"id": "col_template_key", "label": "template_key", "tier": 4, "group": "column", "title": "SHA2 hash of template ID", "size": 12, "physical_group": "snowflake"},
    {"id": "col_topic", "label": "topic", "tier": 4, "group": "column", "title": "Topic name (ECLIPSE_PROD1C01)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_connector", "label": "connector", "tier": 4, "group": "column", "title": "Connector type (cosmosdb_v1, rest_api)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_status", "label": "status", "tier": 4, "group": "column", "title": "Status (active/inactive)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_retry_default", "label": "retry_default", "tier": 4, "group": "column", "title": "Default retry interval (seconds)", "size": 12, "physical_group": "snowflake"},
    {"id": "col_merge_strategy", "label": "merge_strategy", "tier": 4, "group": "column", "title": "Merge strategy (insert/upsert/full)", "size": 12, "physical_group": "snowflake"},

    {"id": "col_start_datetime", "label": "start_datetime", "tier": 4, "group": "column", "title": "Execution start timestamp", "size": 12, "physical_group": "snowflake"},
    {"id": "col_duration_seconds", "label": "duration_seconds", "tier": 4, "group": "column", "title": "Total execution duration", "size": 12, "physical_group": "snowflake"},
    {"id": "col_session_count", "label": "session_count", "tier": 4, "group": "column", "title": "Number of sessions created", "size": 12, "physical_group": "snowflake"},
    {"id": "col_bytes", "label": "bytes", "tier": 4, "group": "column", "title": "Total bytes processed", "size": 12, "physical_group": "snowflake"},
    {"id": "col_rowcount", "label": "rowcount", "tier": 4, "group": "column", "title": "Total rows processed", "size": 12, "physical_group": "snowflake"},
    {"id": "col_hostname", "label": "hostname", "tier": 4, "group": "column", "title": "Container/execution host", "size": 12, "physical_group": "snowflake"},
    {"id": "col_thread_id", "label": "thread_id", "tier": 4, "group": "column", "title": "Thread identifier", "size": 12, "physical_group": "snowflake"},

    {"id": "col_schedule_id", "label": "schedule_id", "tier": 4, "group": "column", "title": "Schedule identifier", "size": 12, "physical_group": "cosmosdb"},
    {"id": "col_session_id", "label": "session_id", "tier": 4, "group": "column", "title": "Session identifier", "size": 12, "physical_group": "cosmosdb"},
    {"id": "col_partition_id", "label": "partition_id", "tier": 4, "group": "column", "title": "Partition identifier", "size": 12, "physical_group": "cosmosdb"},
    {"id": "col_queue_id", "label": "queue_id", "tier": 4, "group": "column", "title": "Queue identifier", "size": 12, "physical_group": "cosmosdb"},
    {"id": "col_connection_id", "label": "connection_id", "tier": 4, "group": "column", "title": "Connection reference", "size": 12, "physical_group": "cosmosdb"},
    {"id": "col_datetimestamp_utc", "label": "datetimestamp_utc", "tier": 4, "group": "column", "title": "UTC epoch timestamp", "size": 12, "physical_group": "cosmosdb"},
    {"id": "col_execution_comment", "label": "execution_comment", "tier": 4, "group": "column", "title": "Execution notes/comments", "size": 12, "physical_group": "cosmosdb"},

    {"id": "measure_avg_duration", "label": "Avg Duration", "tier": 4, "group": "measure", "title": "Average execution duration\nCalculated: AVG(duration_seconds)", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_total_bytes", "label": "Total Bytes", "tier": 4, "group": "measure", "title": "Total bytes processed\nCalculated: SUM(bytes)", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_total_rows", "label": "Total Rows", "tier": 4, "group": "measure", "title": "Total rows processed\nCalculated: SUM(rowcount)", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_schedule_count", "label": "Schedule Count", "tier": 4, "group": "measure", "title": "Number of schedules\nCalculated: COUNT(schedule_id)", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_success_rate", "label": "Success Rate", "tier": 4, "group": "measure", "title": "Execution success rate\nCalculated: success / total", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_throughput", "label": "Throughput", "tier": 4, "group": "measure", "title": "Bytes per second\nCalculated: bytes / duration", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_session_avg", "label": "Avg Sessions", "tier": 4, "group": "measure", "title": "Average sessions per schedule\nCalculated: AVG(session_count)", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_hourly_duration", "label": "Hourly Duration", "tier": 4, "group": "measure", "title": "Total duration per hour\nAggregated: SUM(duration_seconds)", "size": 15, "physical_group": "snowflake"},
    {"id": "measure_hourly_count", "label": "Hourly Count", "tier": 4, "group": "measure", "title": "Schedules per hour\nAggregated: COUNT(schedule)", "size": 15, "physical_group": "snowflake"},

    {"id": "source_cosmosdb", "label": "CosmosDB Prod", "tier": 2, "group": "source", "title": "Eclipse Production CosmosDB\nHost: aldcprodcsdb1c01.documents.azure.com\nDatabase: core", "size": 30, "logo": "https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=https://azure.microsoft.com&size=64", "physical_group": "cosmosdb"},
    {"id": "source_sql_supplement", "label": "SQL Supplement", "tier": 2, "group": "source", "title": "Time Calendar SQL Server\nShared time dimension\nFiscal calendar support", "size": 25, "logo": "https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=https://microsoft.com&size=64", "physical_group": "sql_server"},
    {"id": "source_azure_metrics", "label": "Azure Metrics", "tier": 2, "group": "source", "title": "Azure Monitor Metrics API\nCosmosDB, Storage, Web, Network\nPostgreSQL performance data", "size": 28, "logo": "https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=https://azure.microsoft.com&size=64", "physical_group": "azure"},

    {"id": "api_galactica", "label": "Galactica ETL", "tier": 3, "group": "api", "title": "Galactica ETL Pipeline\nExtraction, transformation, loading\nScheduled data refresh", "size": 22, "physical_group": "azure"},
    {"id": "api_eclipse", "label": "Eclipse API", "tier": 3, "group": "api", "title": "Eclipse Unified API\nData access layer\nDashboard integration", "size": 22, "physical_group": "azure"},
    {"id": "api_snowflake", "label": "Snowflake", "tier": 3, "group": "api", "title": "Snowflake Data Warehouse\nSecure views, star schema\nCentral analytics storage", "size": 22, "physical_group": "snowflake"},
    {"id": "api_data_dict", "label": "Data Dictionary API", "tier": 3, "group": "api", "title": "ALDC Data Dictionary API\nSchema documentation\nGitHub: loribeck1000/aldc-internal-api", "size": 22, "physical_group": "azure"}
  ],
  "edges": [
    {"source": "hub", "target": "table_dim_account", "type": "contains"},
    {"source": "hub", "target": "table_dim_date", "type": "contains"},
    {"source": "hub", "target": "table_dim_template", "type": "contains"},
    {"source": "hub", "target": "table_fct_performance", "type": "contains"},

    {"source": "table_fct_performance", "target": "table_dim_account", "type": "references"},
    {"source": "table_fct_performance", "target": "table_dim_date", "type": "references"},
    {"source": "table_fct_performance", "target": "table_dim_template", "type": "references"},

    {"source": "table_schedule", "target": "table_session", "type": "references"},
    {"source": "table_session", "target": "table_session_event", "type": "references"},
    {"source": "table_work_template", "target": "table_schedule", "type": "references"},
    {"source": "table_work_template", "target": "table_work_partition", "type": "references"},
    {"source": "table_schedule", "target": "table_work_queue", "type": "references"},
    {"source": "table_work_template", "target": "table_work_connection", "type": "references"},

    {"source": "table_dim_account", "target": "col_account_id", "type": "contains"},
    {"source": "table_dim_account", "target": "col_account_key", "type": "contains"},
    {"source": "table_dim_account", "target": "col_short_code", "type": "contains"},
    {"source": "table_dim_account", "target": "col_full_name", "type": "contains"},
    {"source": "table_dim_account", "target": "col_billing_status", "type": "contains"},
    {"source": "table_dim_account", "target": "col_region", "type": "contains"},
    {"source": "table_dim_account", "target": "col_master_timezone", "type": "contains"},
    {"source": "table_dim_account", "target": "col_currency", "type": "contains"},

    {"source": "table_dim_date", "target": "col_date", "type": "contains"},
    {"source": "table_dim_date", "target": "col_date_key", "type": "contains"},
    {"source": "table_dim_date", "target": "col_day_name", "type": "contains"},
    {"source": "table_dim_date", "target": "col_year_name", "type": "contains"},
    {"source": "table_dim_date", "target": "col_quarter_name", "type": "contains"},
    {"source": "table_dim_date", "target": "col_month_name", "type": "contains"},
    {"source": "table_dim_date", "target": "col_week_name", "type": "contains"},
    {"source": "table_dim_date", "target": "col_fiscal_year", "type": "contains"},

    {"source": "table_dim_template", "target": "col_template_id", "type": "contains"},
    {"source": "table_dim_template", "target": "col_template_key", "type": "contains"},
    {"source": "table_dim_template", "target": "col_topic", "type": "contains"},
    {"source": "table_dim_template", "target": "col_connector", "type": "contains"},
    {"source": "table_dim_template", "target": "col_status", "type": "contains"},
    {"source": "table_dim_template", "target": "col_retry_default", "type": "contains"},
    {"source": "table_dim_template", "target": "col_merge_strategy", "type": "contains"},

    {"source": "table_fct_performance", "target": "col_start_datetime", "type": "contains"},
    {"source": "table_fct_performance", "target": "col_duration_seconds", "type": "contains"},
    {"source": "table_fct_performance", "target": "col_session_count", "type": "contains"},
    {"source": "table_fct_performance", "target": "col_bytes", "type": "contains"},
    {"source": "table_fct_performance", "target": "col_rowcount", "type": "contains"},
    {"source": "table_fct_performance", "target": "col_hostname", "type": "contains"},
    {"source": "table_fct_performance", "target": "col_thread_id", "type": "contains"},

    {"source": "table_schedule", "target": "col_schedule_id", "type": "contains"},
    {"source": "table_session", "target": "col_session_id", "type": "contains"},
    {"source": "table_work_partition", "target": "col_partition_id", "type": "contains"},
    {"source": "table_work_queue", "target": "col_queue_id", "type": "contains"},
    {"source": "table_work_connection", "target": "col_connection_id", "type": "contains"},
    {"source": "table_schedule", "target": "col_datetimestamp_utc", "type": "contains"},
    {"source": "table_schedule", "target": "col_execution_comment", "type": "contains"},

    {"source": "table_schedule", "target": "table_log_work_pick", "type": "logs"},
    {"source": "table_schedule", "target": "table_log_work_scan", "type": "logs"},
    {"source": "table_work_template", "target": "table_log_task_scan", "type": "logs"},
    {"source": "table_fct_performance", "target": "table_log_warehouse", "type": "logs"},

    {"source": "table_fct_performance", "target": "measure_avg_duration", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_total_bytes", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_total_rows", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_schedule_count", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_success_rate", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_throughput", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_session_avg", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_hourly_duration", "type": "calculates"},
    {"source": "table_fct_performance", "target": "measure_hourly_count", "type": "calculates"},

    {"source": "source_cosmosdb", "target": "api_galactica", "type": "feeds"},
    {"source": "source_sql_supplement", "target": "api_galactica", "type": "feeds"},
    {"source": "source_azure_metrics", "target": "api_galactica", "type": "feeds"},

    {"source": "api_galactica", "target": "api_snowflake", "type": "feeds"},

    {"source": "api_snowflake", "target": "table_dim_account", "type": "feeds"},
    {"source": "api_snowflake", "target": "table_dim_date", "type": "feeds"},
    {"source": "api_snowflake", "target": "table_dim_template", "type": "feeds"},
    {"source": "api_snowflake", "target": "table_fct_performance", "type": "feeds"},

    {"source": "source_cosmosdb", "target": "table_schedule", "type": "feeds"},
    {"source": "source_cosmosdb", "target": "table_session", "type": "feeds"},
    {"source": "source_cosmosdb", "target": "table_session_event", "type": "feeds"},
    {"source": "source_cosmosdb", "target": "table_work_template", "type": "feeds"},
    {"source": "source_cosmosdb", "target": "table_work_partition", "type": "feeds"},
    {"source": "source_cosmosdb", "target": "table_work_queue", "type": "feeds"},
    {"source": "source_cosmosdb", "target": "table_work_connection", "type": "feeds"},

    {"source": "hub", "target": "api_eclipse", "type": "feeds"},
    {"source": "hub", "target": "api_data_dict", "type": "feeds"}
  ]
}
